{% extends 'fweberBackendBundle::layout.html.twig' %}

{% block currentPage %}posts{% endblock %}

{% block content %}

    <h2>
        <span class="glyphicon glyphicon-th-list"></span>
        Posts
    </h2>

    <div class="well well-sm">
        <a class="btn btn-sm btn-success" href="{{ path('backend_posts_create') }}">
            <span class="glyphicon glyphicon-plus"></span>
            Add Post
        </a>
    </div>

    {% if posts|length() > 0 %}
        <table class="table table-bordered">
            {% for post in posts %}
                <tr class="{% if post.isDraft %}warning{% endif %}">
                    <td>
                        <h4>
                            <a href="#">
                                {{ post.title }}
                            </a>
                        </h4>
                        {% if post.isDraft %}
                            <span class="label label-waring">
                                <i class="fa fa-edit"></i>
                                Draft
                            </span>
                        {% endif %}
                    </td>
                    <td style="font-size: 16px;">
                        <span class="label label-success">
                            <i class="fa fa-plus"></i>
                            {{ post.openDate|date('d.m.Y H:i:s') }}
                        </span>
                        <br>
                        <span class="label label-danger">
                            <i class="fa fa-clock-o"></i>
                            {{ post.publishDate|date('d.m.Y H:i:s') }}
                        </span>
                    </td>
                    <td>
                        <div class="pull-right">
                            <a class="btn btn-warning" href="{{ path('backend_posts_update', {postId: post.id}) }}">
                                <i class="fa fa-edit"></i>
                            </a>
                            <a class="btn btn-danger" href="{{ path('backend_posts_delete', {postId: post.id}) }}">
                                <i class="fa fa-trash"></i>
                            </a>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <div class="alert alert-warning">
            No Posts yet!
        </div>
    {% endif %}

{% endblock %}
